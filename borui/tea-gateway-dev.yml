zuul:
  #oauth2基于zuul必须设置（清除上游的敏感信息:cookie）
  sensitive-headers: Cookie,Set-Cookie
  retryable: false #是否开启重试功能
  #strip-prefix: false
  routes:
    #用户基本模块 -> {注册/登录/基本信息查询}
    user:
      path: /api-user/**
      service-id: mb-user
    #消费&退款&充值&提现
    consume:
      path: /api-consume/**
      service-id: mb-consume
    pay:
      path: /api-pay/**
      service-id: mb-pay
    # 认证
    sso:
      path: /api-sso/**
      service-id: borui-sso

hystrix:
  command:
    default:
      execution:
        timeout:
          enabled: true
        isolation:
          thread:
            #熔断时间要大于负载时间
            timeoutInMilliseconds: 32000

borui-sso:
  ribbon:
    eureka:
      enabled: true #默认开启
    ReadTimeout: 8000
    ConnectTimeout: 8000
    MaxAutoRetries: 0
    MaxAutoRetriesNextServer: 1 #切换相同Server的次数
mb-user:
  ribbon:
    eureka:
      enabled: true #默认开启
    ReadTimeout: 5000
    ConnectTimeout: 5000
    MaxAutoRetries: 0
    MaxAutoRetriesNextServer: 1 #切换相同Server的次数

mb-consume:
  ribbon:
    eureka:
      enabled: true #默认开启
    ReadTimeout: 6000
    ConnectTimeout: 6000
    MaxAutoRetries: 0
    MaxAutoRetriesNextServer: 1 #切换相同Server的次数

mb-pay:
  ribbon:
    eureka:
      enabled: true #默认开启
    ReadTimeout: 8000
    ConnectTimeout: 8000
    MaxAutoRetries: 0
    MaxAutoRetriesNextServer: 1 #切换相同Server的次数


#授权服务
#sso-server: http://localhost:6999/sso
#
#security:
#  oauth2:
#    client:
#      client-id: client_br_zuul
#      access-token-uri: ${sso-server}/oauth/token #令牌端点
#      user-authorization-uri: ${sso-server}/oauth/authorize #授权端点
#      client-secret: clientnicaicaikan
#    resource:
#      jwt:
#        key-value: jwtnicaicaikan
